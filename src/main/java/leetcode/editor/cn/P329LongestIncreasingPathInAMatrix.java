//ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚ 
//
// å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚ 
//
// ç¤ºä¾‹ 1: 
//
// è¾“å…¥: nums = 
//[
//  [9,9,4],
//  [6,6,8],
//  [2,1,1]
//] 
//è¾“å‡º: 4 
//è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„ä¸ºÂ [1, 2, 6, 9]ã€‚ 
//
// ç¤ºä¾‹ 2: 
//
// è¾“å…¥: nums = 
//[
//  [3,4,5],
//  [3,2,6],
//  [2,2,1]
//] 
//è¾“å‡º: 4 
//è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„æ˜¯Â [3, 4, 5, 6]ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚
// 
// Related Topics æ·±åº¦ä¼˜å…ˆæœç´¢ æ‹“æ‰‘æ’åº è®°å¿†åŒ– 
// ğŸ‘ 236 ğŸ‘ 0

 
package leetcode.editor.cn;
//Javaï¼šçŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„
public class P329LongestIncreasingPathInAMatrix{
    public static void main(String[] args) {
        Solution solution = new P329LongestIncreasingPathInAMatrix().new Solution();
        // TO TEST
    }
    
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
    public int rows, columns;

    public int longestIncreasingPath(int[][] matrix) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return 0;
        }
        rows = matrix.length;
        columns = matrix[0].length;
        int[][] memo = new int[rows][columns];
        int ans = 0;

        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < columns; ++j) {
                ans = Math.max(ans, dfs(matrix, i, j, memo));
            }
        }
        return ans;
    }

    private int dfs(int[][] matrix, int row, int column, int[][] memo) {
        if (memo[row][column] != 0) {
            return memo[row][column];
        }
        ++memo[row][column];
        for (int[] dir : dirs) {
            int newRow = row + dir[0], newColumn = column + dir[1];
            if (newRow >= 0 && newRow < rows && newColumn >= 0 && newColumn < columns
            && matrix[newRow][newColumn] > matrix[row][column]) {
                memo[row][column] = Math.max(memo[row][column], dfs(matrix, newRow, newColumn, memo) + 1);
            }
        }
        return memo[row][column];
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}